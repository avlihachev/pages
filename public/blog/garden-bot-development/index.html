<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Building Garden Bot: From Idea to Production Telegram Bot | Aleksandr Likhachev</title>
<meta name="keywords" content="Node.js, TypeScript, Telegram Bot, Weather API, Fly.io, Express, SQLite">
<meta name="description" content="Deep dive into building Garden Bot - a weather notification Telegram bot for gardeners. Learn about architecture decisions, API integrations, deployment strategies, and real-world challenges.">
<meta name="author" content="Aleksandr Likhachev">
<link rel="canonical" href="http://localhost:1313/blog/garden-bot-development/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css" integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn&#43;yY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/blog/garden-bot-development/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-T6S72PH213"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-T6S72PH213');
        }
      </script><meta property="og:url" content="http://localhost:1313/blog/garden-bot-development/">
  <meta property="og:site_name" content="Aleksandr Likhachev">
  <meta property="og:title" content="Building Garden Bot: From Idea to Production Telegram Bot">
  <meta property="og:description" content="Deep dive into building Garden Bot - a weather notification Telegram bot for gardeners. Learn about architecture decisions, API integrations, deployment strategies, and real-world challenges.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2025-10-05T12:00:00+03:00">
    <meta property="article:modified_time" content="2025-10-05T12:00:00+03:00">
    <meta property="article:tag" content="Node.js">
    <meta property="article:tag" content="TypeScript">
    <meta property="article:tag" content="Telegram Bot">
    <meta property="article:tag" content="Weather API">
    <meta property="article:tag" content="Fly.io">
    <meta property="article:tag" content="Express">
      <meta property="og:image" content="http://localhost:1313/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/papermod-cover.png">
<meta name="twitter:title" content="Building Garden Bot: From Idea to Production Telegram Bot">
<meta name="twitter:description" content="Deep dive into building Garden Bot - a weather notification Telegram bot for gardeners. Learn about architecture decisions, API integrations, deployment strategies, and real-world challenges.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "http://localhost:1313/blog/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Building Garden Bot: From Idea to Production Telegram Bot",
      "item": "http://localhost:1313/blog/garden-bot-development/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Building Garden Bot: From Idea to Production Telegram Bot",
  "name": "Building Garden Bot: From Idea to Production Telegram Bot",
  "description": "Deep dive into building Garden Bot - a weather notification Telegram bot for gardeners. Learn about architecture decisions, API integrations, deployment strategies, and real-world challenges.",
  "keywords": [
    "Node.js", "TypeScript", "Telegram Bot", "Weather API", "Fly.io", "Express", "SQLite"
  ],
  "articleBody": "Building a production-ready Telegram bot involves more than just handling messages. In this post, I‚Äôll walk through the complete development journey of Garden Bot - from initial concept to a live service used by 40+ gardeners daily.\nüéØ The Problem \u0026 Solution The Challenge: Gardeners constantly check weather forecasts to make watering decisions, often forgetting or missing critical alerts that could save their plants.\nThe Solution: An intelligent Telegram bot that sends personalized weather notifications and gardening advice based on location and user preferences.\nüèóÔ∏è Architecture Decisions Technology Stack Selection Node.js + TypeScript\nWhy: Excellent Telegram Bot API support, strong async handling TypeScript: Catch errors early, better IDE support, safer refactoring Telegraf.js Framework\nWhy: Most mature Telegram bot framework for Node.js Alternative considered: node-telegram-bot-api (less feature-rich) SQLite Database\nWhy: Simple deployment, no external dependencies, perfect for bot data Alternative considered: PostgreSQL (overkill for this use case) OpenWeatherMap API\nWhy: Reliable, comprehensive weather data, generous free tier Alternative considered: WeatherAPI (good but more limited free tier) System Architecture // Core architecture components interface BotArchitecture { telegramBot: TelegrafBot; // User interaction layer weatherService: WeatherAPI; // External weather data userService: UserDatabase; // User preferences \u0026 locations notificationService: Scheduler; // Automated alerts webServer: ExpressApp; // Status page \u0026 health checks } üöÄ Development Journey Phase 1: MVP Bot (Week 1) Goal: Basic weather commands working\n// Initial bot setup import { Telegraf } from 'telegraf'; import { OpenWeatherMapAPI } from './services/weather'; const bot = new Telegraf(process.env.BOT_TOKEN!); const weather = new OpenWeatherMapAPI(process.env.WEATHER_KEY!); bot.command('weather', async (ctx) =\u003e { const location = await getUserLocation(ctx.from.id); if (!location) { return ctx.reply('Please set your location with /location'); } const weatherData = await weather.getCurrentWeather(location); const message = formatWeatherMessage(weatherData); return ctx.reply(message); }); bot.launch(); Challenges faced:\nLocation handling: Users entering city names vs coordinates Error handling: Weather API timeouts and rate limits Message formatting: Making weather data readable in Telegram Phase 2: User Management (Week 2) Goal: Persistent user settings and multiple locations\n// Database schema design interface User { telegramId: number; username?: string; createdAt: Date; settings: UserSettings; } interface UserSettings { timezone: string; notificationTime: string; // \"08:00\" frostAlerts: boolean; rainAlerts: boolean; temperatureUnit: 'C' | 'F'; } interface Location { id: string; userId: number; name: string; latitude: number; longitude: number; isDefault: boolean; } Key learnings:\nAlways use Telegram user ID as primary key (usernames can change) Timezone handling is complex - used coordinates to guess timezone SQLite is perfect for bot data - simple, fast, no external dependencies Phase 3: Scheduled Notifications (Week 3) Goal: Daily weather notifications\nimport cron from 'node-cron'; // Send daily weather notifications cron.schedule('0 * * * *', async () =\u003e { // Every hour const usersToNotify = await getUsersForHour(new Date().getHours()); for (const user of usersToNotify) { try { const notifications = await generateWeatherNotifications(user); if (notifications.length \u003e 0) { await sendNotifications(user.telegramId, notifications); } } catch (error) { console.error(`Notification failed for user ${user.telegramId}:`, error); } } }); async function generateWeatherNotifications(user: User): Promise\u003cNotification[]\u003e { const notifications: Notification[] = []; for (const location of user.locations) { const weather = await getWeatherForecast(location); // Frost warning if (weather.temperature.min \u003c 2 \u0026\u0026 user.settings.frostAlerts) { notifications.push({ type: 'frost', location: location.name, message: '‚ùÑÔ∏è Frost warning! Protect sensitive plants tonight.', severity: weather.temperature.min \u003c -2 ? 'high' : 'medium' }); } // Rain probability if (weather.precipitation.probability \u003e 0.7 \u0026\u0026 user.settings.rainAlerts) { notifications.push({ type: 'rain', location: location.name, message: 'üåßÔ∏è High chance of rain - skip watering today!', severity: 'low' }); } } return notifications; } Challenges:\nTimezone complexity: Users in different timezones need notifications at their local time Rate limiting: Telegram has limits on bulk messaging Error handling: What happens when weather API is down? Phase 4: Web Interface (Week 4) Goal: Status page and health monitoring\nimport express from 'express'; const app = express(); // Status endpoint for monitoring app.get('/api/status', async (req, res) =\u003e { try { const stats = await getBotStatistics(); const health = await performHealthChecks(); res.json({ bot: { username: 'jordbrukbot', status: 'running', startTime: botStartTime, version: process.env.npm_package_version }, stats: { users: stats.totalUsers, activeUsers: stats.activeUsers24h, locationsTracked: stats.totalLocations, notificationsSent24h: stats.notifications24h }, health: { status: health.overall, database: health.database, weatherAPI: health.weatherAPI, telegramAPI: health.telegramAPI }, uptime: process.uptime() }); } catch (error) { res.status(500).json({ error: 'Status check failed' }); } }); // Health check for deployment platform app.get('/health', async (req, res) =\u003e { const isHealthy = await quickHealthCheck(); res.status(isHealthy ? 200 : 503).json({ status: isHealthy ? 'healthy' : 'unhealthy' }); }); üîß Production Considerations Error Handling Strategy // Comprehensive error handling class BotErrorHandler { static handleTelegramError(error: any, ctx: any) { console.error('Telegram API Error:', error); if (error.code === 429) { // Rate limited - wait and retry return this.handleRateLimit(error, ctx); } if (error.code === 403) { // User blocked bot - remove from notifications return this.handleUserBlocked(ctx.from.id); } // Generic error response ctx.reply('Sorry, something went wrong. Please try again later.'); } static handleWeatherAPIError(error: any) { console.error('Weather API Error:', error); if (error.code === 401) { // API key issue - critical error this.notifyAdmin('Weather API key expired!'); } // Return cached weather data if available return this.getCachedWeatherData(); } } Performance Optimizations Database Optimizations:\n-- Indexes for common queries CREATE INDEX idx_users_telegram_id ON users(telegram_id); CREATE INDEX idx_locations_user_id ON locations(user_id); CREATE INDEX idx_notifications_sent_at ON notifications(sent_at); Caching Strategy:\n// Cache weather data to reduce API calls const weatherCache = new Map\u003cstring, CachedWeather\u003e(); async function getWeatherWithCache(lat: number, lon: number): Promise\u003cWeatherData\u003e { const cacheKey = `${lat},${lon}`; const cached = weatherCache.get(cacheKey); if (cached \u0026\u0026 Date.now() - cached.timestamp \u003c 10 * 60 * 1000) { // 10 minutes return cached.data; } const fresh = await weatherAPI.getWeather(lat, lon); weatherCache.set(cacheKey, { data: fresh, timestamp: Date.now() }); return fresh; } Deployment \u0026 DevOps Fly.io Configuration:\n# fly.toml app = \"garden-weather-bot\" primary_region = \"arn\" [env] NODE_ENV = \"production\" [http_service] internal_port = 3000 force_https = true [[services]] http_checks = [] internal_port = 3000 processes = [\"app\"] protocol = \"tcp\" script_checks = [] [services.concurrency] hard_limit = 25 soft_limit = 20 type = \"connections\" [[services.ports]] force_https = true handlers = [\"http\"] port = 80 [[services.tcp_checks]] grace_period = \"1s\" interval = \"15s\" restart_limit = 0 timeout = \"2s\" Docker Setup:\nFROM node:18-alpine WORKDIR /app COPY package*.json ./ RUN npm ci --only=production COPY . . RUN npm run build EXPOSE 3000 CMD [\"npm\", \"start\"] GitHub Actions CI/CD:\nname: Deploy to Fly.io on: push: branches: [main] jobs: deploy: runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name: Setup Node.js uses: actions/setup-node@v3 with: node-version: '18' cache: 'npm' - name: Install dependencies run: npm ci - name: Run tests run: npm test - name: Deploy to Fly.io uses: superfly/flyctl-actions@1.3 with: args: \"deploy\" env: FLY_API_TOKEN: ${{ secrets.FLY_API_TOKEN }} üìä Real-World Metrics \u0026 Learnings Usage Statistics (After 3 Months) Active Users: 42 regular users Daily Notifications: ~150 sent per day Locations Tracked: 18 different cities Uptime: 99.8% (only maintenance downtime) Response Time: \u003c200ms average for commands What Worked Well 1. TypeScript from Day One\n// Caught many bugs during development interface WeatherAlert { type: 'frost' | 'rain' | 'wind'; // Enum prevents typos severity: AlertSeverity; // Custom type ensures consistency message: string; timestamp: Date; } 2. Comprehensive Logging\n// Structured logging helped debug user issues logger.info('User command', { userId: ctx.from.id, command: ctx.message.text, location: user.defaultLocation?.name, timestamp: new Date().toISOString() }); 3. Gradual Feature Rollout\nStarted with basic weather commands Added notifications after core functionality was solid Web interface came last (nice-to-have) What I‚Äôd Do Differently 1. Database Migrations from Start\n// Should have implemented migrations early interface Migration { version: number; description: string; up: (db: Database) =\u003e Promise\u003cvoid\u003e; down: (db: Database) =\u003e Promise\u003cvoid\u003e; } 2. Better Testing Strategy\n// Should have mocked external APIs from beginning describe('Weather Notifications', () =\u003e { beforeEach(() =\u003e { mockWeatherAPI.reset(); mockTelegramAPI.reset(); }); it('sends frost warning when temperature drops below threshold', async () =\u003e { mockWeatherAPI.mockWeather({ temperature: { min: -5 } }); await processNotifications(); expect(mockTelegramAPI.sentMessages).toContain('Frost warning'); }); }); 3. Rate Limiting Implementation\n// Implemented too late - should be from day one import rateLimit from 'express-rate-limit'; const apiLimiter = rateLimit({ windowMs: 15 * 60 * 1000, // 15 minutes max: 100 // limit each IP to 100 requests per windowMs }); app.use('/api/', apiLimiter); üîÆ Future Improvements Phase 5: Machine Learning (Planned) // Analyze user behavior to improve recommendations interface UserBehavior { respondedToFrostWarnings: number; skippedWateringAfterRainAlert: number; preferredNotificationTimes: number[]; locationAccuracy: 'city' | 'precise'; } // Use data to personalize recommendations function generatePersonalizedAdvice(user: User, weather: WeatherData): string { const behavior = getUserBehavior(user.id); if (behavior.respondedToFrostWarnings \u003e 0.8) { // User takes frost warnings seriously return generateDetailedFrostAdvice(weather); } return generateBasicAdvice(weather); } Phase 6: IoT Integration (Future) // Connect with garden sensors interface GardenSensor { id: string; type: 'soil_moisture' | 'temperature' | 'light'; location: Location; lastReading: SensorReading; } // Combine sensor data with weather forecasts async function generateSmartRecommendations( location: Location, weather: WeatherData, sensors: GardenSensor[] ): Promise\u003cRecommendation[]\u003e { const soilMoisture = sensors.find(s =\u003e s.type === 'soil_moisture')?.lastReading; if (soilMoisture \u0026\u0026 soilMoisture.value \u003e 0.7 \u0026\u0026 weather.precipitation.probability \u003e 0.5) { return [{ type: 'watering', action: 'skip', reason: 'Soil is moist and rain expected' }]; } return []; } üí° Key Takeaways for Bot Development 1. Start Simple, Iterate Fast Begin with core commands working Add features based on user feedback Don‚Äôt over-engineer from the start 2. Error Handling is Critical External APIs will fail - plan for it Users will send unexpected input Have fallbacks for everything 3. Monitoring is Essential // Implement comprehensive monitoring const metrics = { commandsProcessed: 0, errorsEncountered: 0, notificationsSent: 0, apiCallsToday: 0 }; // Track everything important function trackCommand(command: string) { metrics.commandsProcessed++; console.log(`Command processed: ${command}`, metrics); } 4. User Experience Matters Clear, helpful error messages Intuitive command structure Consistent interaction patterns Fast response times 5. Production Readiness Checklist ‚úÖ Health checks and monitoring ‚úÖ Graceful error handling ‚úÖ Rate limiting and abuse prevention ‚úÖ Logging and debugging tools ‚úÖ Automated deployment pipeline ‚úÖ Backup and recovery procedures üîó Resources \u0026 Links Live Project:\nTry the Bot: @jordbrukbot Status Page: Live Status Monitor Source Code: GitHub Repository Technical Resources:\nTelegraf.js Documentation OpenWeatherMap API Fly.io Deployment Guide Related Posts:\n5 Excel Formulas Every Startup Should Master SaaS Automation Case Study üöÄ Want to Build Something Similar? This project showcases full-stack development skills, API integration expertise, and production deployment experience. If you‚Äôre interested in building a custom bot or automation solution for your business:\nSchedule a Free Consultation ‚Üí to discuss your project.\nGarden Bot continues to evolve based on user feedback. The complete source code is available on GitHub, and I‚Äôm always happy to discuss technical implementation details.\n",
  "wordCount" : "1703",
  "inLanguage": "en",
  "image": "http://localhost:1313/papermod-cover.png","datePublished": "2025-10-05T12:00:00+03:00",
  "dateModified": "2025-10-05T12:00:00+03:00",
  "author":{
    "@type": "Person",
    "name": "Aleksandr Likhachev"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/blog/garden-bot-development/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Aleksandr Likhachev",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Aleksandr Likhachev (Alt + H)">Aleksandr Likhachev</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/blog/">Blogs</a></div>
    <h1 class="post-title entry-hint-parent">
      Building Garden Bot: From Idea to Production Telegram Bot
    </h1>
    <div class="post-description">
      Deep dive into building Garden Bot - a weather notification Telegram bot for gardeners. Learn about architecture decisions, API integrations, deployment strategies, and real-world challenges.
    </div>
    <div class="post-meta"><span title='2025-10-05 12:00:00 +0300 EEST'>October 5, 2025</span>&nbsp;¬∑&nbsp;<span>8 min</span>&nbsp;¬∑&nbsp;<span>Aleksandr Likhachev</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#-the-problem--solution" aria-label="üéØ The Problem &amp; Solution">üéØ The Problem &amp; Solution</a></li>
                <li>
                    <a href="#-architecture-decisions" aria-label="üèóÔ∏è Architecture Decisions">üèóÔ∏è Architecture Decisions</a><ul>
                        
                <li>
                    <a href="#technology-stack-selection" aria-label="Technology Stack Selection">Technology Stack Selection</a></li>
                <li>
                    <a href="#system-architecture" aria-label="System Architecture">System Architecture</a></li></ul>
                </li>
                <li>
                    <a href="#-development-journey" aria-label="üöÄ Development Journey">üöÄ Development Journey</a><ul>
                        
                <li>
                    <a href="#phase-1-mvp-bot-week-1" aria-label="Phase 1: MVP Bot (Week 1)">Phase 1: MVP Bot (Week 1)</a></li>
                <li>
                    <a href="#phase-2-user-management-week-2" aria-label="Phase 2: User Management (Week 2)">Phase 2: User Management (Week 2)</a></li>
                <li>
                    <a href="#phase-3-scheduled-notifications-week-3" aria-label="Phase 3: Scheduled Notifications (Week 3)">Phase 3: Scheduled Notifications (Week 3)</a></li>
                <li>
                    <a href="#phase-4-web-interface-week-4" aria-label="Phase 4: Web Interface (Week 4)">Phase 4: Web Interface (Week 4)</a></li></ul>
                </li>
                <li>
                    <a href="#-production-considerations" aria-label="üîß Production Considerations">üîß Production Considerations</a><ul>
                        
                <li>
                    <a href="#error-handling-strategy" aria-label="Error Handling Strategy">Error Handling Strategy</a></li>
                <li>
                    <a href="#performance-optimizations" aria-label="Performance Optimizations">Performance Optimizations</a></li>
                <li>
                    <a href="#deployment--devops" aria-label="Deployment &amp; DevOps">Deployment &amp; DevOps</a></li></ul>
                </li>
                <li>
                    <a href="#-real-world-metrics--learnings" aria-label="üìä Real-World Metrics &amp; Learnings">üìä Real-World Metrics &amp; Learnings</a><ul>
                        
                <li>
                    <a href="#usage-statistics-after-3-months" aria-label="Usage Statistics (After 3 Months)">Usage Statistics (After 3 Months)</a></li>
                <li>
                    <a href="#what-worked-well" aria-label="What Worked Well">What Worked Well</a></li>
                <li>
                    <a href="#what-id-do-differently" aria-label="What I&rsquo;d Do Differently">What I&rsquo;d Do Differently</a></li></ul>
                </li>
                <li>
                    <a href="#-future-improvements" aria-label="üîÆ Future Improvements">üîÆ Future Improvements</a><ul>
                        
                <li>
                    <a href="#phase-5-machine-learning-planned" aria-label="Phase 5: Machine Learning (Planned)">Phase 5: Machine Learning (Planned)</a></li>
                <li>
                    <a href="#phase-6-iot-integration-future" aria-label="Phase 6: IoT Integration (Future)">Phase 6: IoT Integration (Future)</a></li></ul>
                </li>
                <li>
                    <a href="#-key-takeaways-for-bot-development" aria-label="üí° Key Takeaways for Bot Development">üí° Key Takeaways for Bot Development</a><ul>
                        
                <li>
                    <a href="#1-start-simple-iterate-fast" aria-label="1. Start Simple, Iterate Fast">1. Start Simple, Iterate Fast</a></li>
                <li>
                    <a href="#2-error-handling-is-critical" aria-label="2. Error Handling is Critical">2. Error Handling is Critical</a></li>
                <li>
                    <a href="#3-monitoring-is-essential" aria-label="3. Monitoring is Essential">3. Monitoring is Essential</a></li>
                <li>
                    <a href="#4-user-experience-matters" aria-label="4. User Experience Matters">4. User Experience Matters</a></li>
                <li>
                    <a href="#5-production-readiness-checklist" aria-label="5. Production Readiness Checklist">5. Production Readiness Checklist</a></li></ul>
                </li>
                <li>
                    <a href="#-resources--links" aria-label="üîó Resources &amp; Links">üîó Resources &amp; Links</a></li>
                <li>
                    <a href="#-want-to-build-something-similar" aria-label="üöÄ Want to Build Something Similar?">üöÄ Want to Build Something Similar?</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Building a production-ready Telegram bot involves more than just handling messages. In this post, I&rsquo;ll walk through the complete development journey of <strong>Garden Bot</strong> - from initial concept to a live service used by 40+ gardeners daily.</p>
<h2 id="-the-problem--solution">üéØ The Problem &amp; Solution<a hidden class="anchor" aria-hidden="true" href="#-the-problem--solution">#</a></h2>
<p><strong>The Challenge:</strong> Gardeners constantly check weather forecasts to make watering decisions, often forgetting or missing critical alerts that could save their plants.</p>
<p><strong>The Solution:</strong> An intelligent Telegram bot that sends personalized weather notifications and gardening advice based on location and user preferences.</p>
<h2 id="-architecture-decisions">üèóÔ∏è Architecture Decisions<a hidden class="anchor" aria-hidden="true" href="#-architecture-decisions">#</a></h2>
<h3 id="technology-stack-selection">Technology Stack Selection<a hidden class="anchor" aria-hidden="true" href="#technology-stack-selection">#</a></h3>
<p><strong>Node.js + TypeScript</strong></p>
<ul>
<li><strong>Why:</strong> Excellent Telegram Bot API support, strong async handling</li>
<li><strong>TypeScript:</strong> Catch errors early, better IDE support, safer refactoring</li>
</ul>
<p><strong>Telegraf.js Framework</strong></p>
<ul>
<li><strong>Why:</strong> Most mature Telegram bot framework for Node.js</li>
<li><strong>Alternative considered:</strong> node-telegram-bot-api (less feature-rich)</li>
</ul>
<p><strong>SQLite Database</strong></p>
<ul>
<li><strong>Why:</strong> Simple deployment, no external dependencies, perfect for bot data</li>
<li><strong>Alternative considered:</strong> PostgreSQL (overkill for this use case)</li>
</ul>
<p><strong>OpenWeatherMap API</strong></p>
<ul>
<li><strong>Why:</strong> Reliable, comprehensive weather data, generous free tier</li>
<li><strong>Alternative considered:</strong> WeatherAPI (good but more limited free tier)</li>
</ul>
<h3 id="system-architecture">System Architecture<a hidden class="anchor" aria-hidden="true" href="#system-architecture">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Core architecture components
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">interface</span> <span class="nx">BotArchitecture</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">telegramBot</span>: <span class="kt">TelegrafBot</span><span class="p">;</span>        <span class="c1">// User interaction layer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">weatherService</span>: <span class="kt">WeatherAPI</span><span class="p">;</span>      <span class="c1">// External weather data
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">userService</span>: <span class="kt">UserDatabase</span><span class="p">;</span>       <span class="c1">// User preferences &amp; locations
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">notificationService</span>: <span class="kt">Scheduler</span><span class="p">;</span>  <span class="c1">// Automated alerts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">webServer</span>: <span class="kt">ExpressApp</span><span class="p">;</span>          <span class="c1">// Status page &amp; health checks
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><h2 id="-development-journey">üöÄ Development Journey<a hidden class="anchor" aria-hidden="true" href="#-development-journey">#</a></h2>
<h3 id="phase-1-mvp-bot-week-1">Phase 1: MVP Bot (Week 1)<a hidden class="anchor" aria-hidden="true" href="#phase-1-mvp-bot-week-1">#</a></h3>
<p><strong>Goal:</strong> Basic weather commands working</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Initial bot setup
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Telegraf</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;telegraf&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">OpenWeatherMapAPI</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;./services/weather&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">bot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Telegraf</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">BOT_TOKEN</span><span class="o">!</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">weather</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OpenWeatherMapAPI</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">WEATHER_KEY</span><span class="o">!</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">bot</span><span class="p">.</span><span class="nx">command</span><span class="p">(</span><span class="s1">&#39;weather&#39;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">location</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getUserLocation</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="kr">from</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">location</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">reply</span><span class="p">(</span><span class="s1">&#39;Please set your location with /location&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">weatherData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">weather</span><span class="p">.</span><span class="nx">getCurrentWeather</span><span class="p">(</span><span class="nx">location</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">formatWeatherMessage</span><span class="p">(</span><span class="nx">weatherData</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">reply</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">bot</span><span class="p">.</span><span class="nx">launch</span><span class="p">();</span>
</span></span></code></pre></div><p><strong>Challenges faced:</strong></p>
<ul>
<li><strong>Location handling:</strong> Users entering city names vs coordinates</li>
<li><strong>Error handling:</strong> Weather API timeouts and rate limits</li>
<li><strong>Message formatting:</strong> Making weather data readable in Telegram</li>
</ul>
<h3 id="phase-2-user-management-week-2">Phase 2: User Management (Week 2)<a hidden class="anchor" aria-hidden="true" href="#phase-2-user-management-week-2">#</a></h3>
<p><strong>Goal:</strong> Persistent user settings and multiple locations</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Database schema design
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">interface</span> <span class="nx">User</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">telegramId</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">username?</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">createdAt</span>: <span class="kt">Date</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">settings</span>: <span class="kt">UserSettings</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">UserSettings</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">timezone</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">notificationTime</span>: <span class="kt">string</span><span class="p">;</span> <span class="c1">// &#34;08:00&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">frostAlerts</span>: <span class="kt">boolean</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">rainAlerts</span>: <span class="kt">boolean</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">temperatureUnit</span><span class="o">:</span> <span class="s1">&#39;C&#39;</span> <span class="o">|</span> <span class="s1">&#39;F&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">Location</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">userId</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">latitude</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">longitude</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">isDefault</span>: <span class="kt">boolean</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>Key learnings:</strong></p>
<ul>
<li><strong>Always use Telegram user ID</strong> as primary key (usernames can change)</li>
<li><strong>Timezone handling is complex</strong> - used coordinates to guess timezone</li>
<li><strong>SQLite is perfect</strong> for bot data - simple, fast, no external dependencies</li>
</ul>
<h3 id="phase-3-scheduled-notifications-week-3">Phase 3: Scheduled Notifications (Week 3)<a hidden class="anchor" aria-hidden="true" href="#phase-3-scheduled-notifications-week-3">#</a></h3>
<p><strong>Goal:</strong> Daily weather notifications</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">cron</span> <span class="kr">from</span> <span class="s1">&#39;node-cron&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Send daily weather notifications
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">cron</span><span class="p">.</span><span class="nx">schedule</span><span class="p">(</span><span class="s1">&#39;0 * * * *&#39;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="c1">// Every hour
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kr">const</span> <span class="nx">usersToNotify</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getUsersForHour</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getHours</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">user</span> <span class="k">of</span> <span class="nx">usersToNotify</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">notifications</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">generateWeatherNotifications</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">notifications</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">await</span> <span class="nx">sendNotifications</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">telegramId</span><span class="p">,</span> <span class="nx">notifications</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Notification failed for user </span><span class="si">${</span><span class="nx">user</span><span class="p">.</span><span class="nx">telegramId</span><span class="si">}</span><span class="sb">:`</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">generateWeatherNotifications</span><span class="p">(</span><span class="nx">user</span>: <span class="kt">User</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">Notification</span><span class="err">[]</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">notifications</span>: <span class="kt">Notification</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">location</span> <span class="k">of</span> <span class="nx">user</span><span class="p">.</span><span class="nx">locations</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">weather</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getWeatherForecast</span><span class="p">(</span><span class="nx">location</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Frost warning
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">weather</span><span class="p">.</span><span class="nx">temperature</span><span class="p">.</span><span class="nx">min</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">frostAlerts</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">notifications</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;frost&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">location</span>: <span class="kt">location.name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;‚ùÑÔ∏è Frost warning! Protect sensitive plants tonight.&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">severity</span>: <span class="kt">weather.temperature.min</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">2</span> <span class="o">?</span> <span class="s1">&#39;high&#39;</span> <span class="o">:</span> <span class="s1">&#39;medium&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Rain probability
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">weather</span><span class="p">.</span><span class="nx">precipitation</span><span class="p">.</span><span class="nx">probability</span> <span class="o">&gt;</span> <span class="mf">0.7</span> <span class="o">&amp;&amp;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">rainAlerts</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">notifications</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;rain&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">location</span>: <span class="kt">location.name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;üåßÔ∏è High chance of rain - skip watering today!&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">severity</span><span class="o">:</span> <span class="s1">&#39;low&#39;</span>
</span></span><span class="line"><span class="cl">      <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">notifications</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>Challenges:</strong></p>
<ul>
<li><strong>Timezone complexity:</strong> Users in different timezones need notifications at their local time</li>
<li><strong>Rate limiting:</strong> Telegram has limits on bulk messaging</li>
<li><strong>Error handling:</strong> What happens when weather API is down?</li>
</ul>
<h3 id="phase-4-web-interface-week-4">Phase 4: Web Interface (Week 4)<a hidden class="anchor" aria-hidden="true" href="#phase-4-web-interface-week-4">#</a></h3>
<p><strong>Goal:</strong> Status page and health monitoring</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">express</span> <span class="kr">from</span> <span class="s1">&#39;express&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Status endpoint for monitoring
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s1">&#39;/api/status&#39;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">try</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getBotStatistics</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">health</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">performHealthChecks</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">bot</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;jordbrukbot&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">status</span><span class="o">:</span> <span class="s1">&#39;running&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">startTime</span>: <span class="kt">botStartTime</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">version</span>: <span class="kt">process.env.npm_package_version</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">stats</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">users</span>: <span class="kt">stats.totalUsers</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">activeUsers</span>: <span class="kt">stats.activeUsers24h</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">locationsTracked</span>: <span class="kt">stats.totalLocations</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">notificationsSent24h</span>: <span class="kt">stats.notifications24h</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">health</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">status</span>: <span class="kt">health.overall</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">database</span>: <span class="kt">health.database</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">weatherAPI</span>: <span class="kt">health.weatherAPI</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">telegramAPI</span>: <span class="kt">health.telegramAPI</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">      <span class="nx">uptime</span>: <span class="kt">process.uptime</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">500</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span> <span class="nx">error</span><span class="o">:</span> <span class="s1">&#39;Status check failed&#39;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Health check for deployment platform
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">app</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="s1">&#39;/health&#39;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">isHealthy</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">quickHealthCheck</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="nx">isHealthy</span> <span class="o">?</span> <span class="nx">200</span> : <span class="kt">503</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span> 
</span></span><span class="line"><span class="cl">    <span class="nx">status</span>: <span class="kt">isHealthy</span> <span class="o">?</span> <span class="s1">&#39;healthy&#39;</span> <span class="o">:</span> <span class="s1">&#39;unhealthy&#39;</span> 
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><h2 id="-production-considerations">üîß Production Considerations<a hidden class="anchor" aria-hidden="true" href="#-production-considerations">#</a></h2>
<h3 id="error-handling-strategy">Error Handling Strategy<a hidden class="anchor" aria-hidden="true" href="#error-handling-strategy">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Comprehensive error handling
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">class</span> <span class="nx">BotErrorHandler</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">static</span> <span class="nx">handleTelegramError</span><span class="p">(</span><span class="nx">error</span>: <span class="kt">any</span><span class="p">,</span> <span class="nx">ctx</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Telegram API Error:&#39;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">===</span> <span class="mi">429</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// Rate limited - wait and retry
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleRateLimit</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">===</span> <span class="mi">403</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// User blocked bot - remove from notifications
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleUserBlocked</span><span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="kr">from</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Generic error response
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">ctx</span><span class="p">.</span><span class="nx">reply</span><span class="p">(</span><span class="s1">&#39;Sorry, something went wrong. Please try again later.&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="kr">static</span> <span class="nx">handleWeatherAPIError</span><span class="p">(</span><span class="nx">error</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Weather API Error:&#39;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">===</span> <span class="mi">401</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// API key issue - critical error
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="k">this</span><span class="p">.</span><span class="nx">notifyAdmin</span><span class="p">(</span><span class="s1">&#39;Weather API key expired!&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Return cached weather data if available
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getCachedWeatherData</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="performance-optimizations">Performance Optimizations<a hidden class="anchor" aria-hidden="true" href="#performance-optimizations">#</a></h3>
<p><strong>Database Optimizations:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- Indexes for common queries
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_users_telegram_id</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">users</span><span class="p">(</span><span class="n">telegram_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_locations_user_id</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">locations</span><span class="p">(</span><span class="n">user_id</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_notifications_sent_at</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">notifications</span><span class="p">(</span><span class="n">sent_at</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p><strong>Caching Strategy:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Cache weather data to reduce API calls
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">weatherCache</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">&lt;</span><span class="nt">string</span><span class="p">,</span> <span class="na">CachedWeather</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">getWeatherWithCache</span><span class="p">(</span><span class="nx">lat</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">lon</span>: <span class="kt">number</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">WeatherData</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">cacheKey</span> <span class="o">=</span> <span class="sb">`</span><span class="si">${</span><span class="nx">lat</span><span class="si">}</span><span class="sb">,</span><span class="si">${</span><span class="nx">lon</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">cached</span> <span class="o">=</span> <span class="nx">weatherCache</span><span class="p">.</span><span class="kr">get</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">cached</span> <span class="o">&amp;&amp;</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">cached</span><span class="p">.</span><span class="nx">timestamp</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 10 minutes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nx">cached</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">fresh</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">weatherAPI</span><span class="p">.</span><span class="nx">getWeather</span><span class="p">(</span><span class="nx">lat</span><span class="p">,</span> <span class="nx">lon</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nx">weatherCache</span><span class="p">.</span><span class="kr">set</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">,</span> <span class="p">{</span> <span class="nx">data</span>: <span class="kt">fresh</span><span class="p">,</span> <span class="nx">timestamp</span>: <span class="kt">Date.now</span><span class="p">()</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">fresh</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="deployment--devops">Deployment &amp; DevOps<a hidden class="anchor" aria-hidden="true" href="#deployment--devops">#</a></h3>
<p><strong>Fly.io Configuration:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># fly.toml</span>
</span></span><span class="line"><span class="cl"><span class="nx">app</span> <span class="p">=</span> <span class="s2">&#34;garden-weather-bot&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">primary_region</span> <span class="p">=</span> <span class="s2">&#34;arn&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">env</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">NODE_ENV</span> <span class="p">=</span> <span class="s2">&#34;production&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">http_service</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">internal_port</span> <span class="p">=</span> <span class="mi">3000</span>
</span></span><span class="line"><span class="cl">  <span class="nx">force_https</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">services</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">http_checks</span> <span class="p">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">internal_port</span> <span class="p">=</span> <span class="mi">3000</span>
</span></span><span class="line"><span class="cl">  <span class="nx">processes</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;app&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="nx">protocol</span> <span class="p">=</span> <span class="s2">&#34;tcp&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">script_checks</span> <span class="p">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[</span><span class="nx">services</span><span class="p">.</span><span class="nx">concurrency</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">hard_limit</span> <span class="p">=</span> <span class="mi">25</span>
</span></span><span class="line"><span class="cl">    <span class="nx">soft_limit</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">    <span class="nx">type</span> <span class="p">=</span> <span class="s2">&#34;connections&#34;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">services</span><span class="p">.</span><span class="nx">ports</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">force_https</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="nx">handlers</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;http&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">port</span> <span class="p">=</span> <span class="mi">80</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="p">[[</span><span class="nx">services</span><span class="p">.</span><span class="nx">tcp_checks</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="nx">grace_period</span> <span class="p">=</span> <span class="s2">&#34;1s&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">interval</span> <span class="p">=</span> <span class="s2">&#34;15s&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">restart_limit</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="nx">timeout</span> <span class="p">=</span> <span class="s2">&#34;2s&#34;</span>
</span></span></code></pre></div><p><strong>Docker Setup:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="cl"><span class="k">FROM</span><span class="w"> </span><span class="s">node:18-alpine</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> package*.json ./<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> npm ci --only<span class="o">=</span>production<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> . .<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> npm run build<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">EXPOSE</span><span class="w"> </span><span class="s">3000</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;npm&#34;</span><span class="p">,</span> <span class="s2">&#34;start&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div><p><strong>GitHub Actions CI/CD:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy to Fly.io</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">main]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Setup Node.js</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-node@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">node-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;18&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">cache</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;npm&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Install dependencies</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">npm ci</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Run tests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">npm test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy to Fly.io</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">superfly/flyctl-actions@1.3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">args</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;deploy&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">FLY_API_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.FLY_API_TOKEN }}</span><span class="w">
</span></span></span></code></pre></div><h2 id="-real-world-metrics--learnings">üìä Real-World Metrics &amp; Learnings<a hidden class="anchor" aria-hidden="true" href="#-real-world-metrics--learnings">#</a></h2>
<h3 id="usage-statistics-after-3-months">Usage Statistics (After 3 Months)<a hidden class="anchor" aria-hidden="true" href="#usage-statistics-after-3-months">#</a></h3>
<ul>
<li><strong>Active Users:</strong> 42 regular users</li>
<li><strong>Daily Notifications:</strong> ~150 sent per day</li>
<li><strong>Locations Tracked:</strong> 18 different cities</li>
<li><strong>Uptime:</strong> 99.8% (only maintenance downtime)</li>
<li><strong>Response Time:</strong> &lt;200ms average for commands</li>
</ul>
<h3 id="what-worked-well">What Worked Well<a hidden class="anchor" aria-hidden="true" href="#what-worked-well">#</a></h3>
<p><strong>1. TypeScript from Day One</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Caught many bugs during development
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">interface</span> <span class="nx">WeatherAlert</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;frost&#39;</span> <span class="o">|</span> <span class="s1">&#39;rain&#39;</span> <span class="o">|</span> <span class="s1">&#39;wind&#39;</span><span class="p">;</span>  <span class="c1">// Enum prevents typos
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">severity</span>: <span class="kt">AlertSeverity</span><span class="p">;</span>          <span class="c1">// Custom type ensures consistency
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">message</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">timestamp</span>: <span class="kt">Date</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>2. Comprehensive Logging</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Structured logging helped debug user issues
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;User command&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">userId</span>: <span class="kt">ctx.from.id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">command</span>: <span class="kt">ctx.message.text</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">location</span>: <span class="kt">user.defaultLocation?.name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">timestamp</span>: <span class="kt">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p><strong>3. Gradual Feature Rollout</strong></p>
<ul>
<li>Started with basic weather commands</li>
<li>Added notifications after core functionality was solid</li>
<li>Web interface came last (nice-to-have)</li>
</ul>
<h3 id="what-id-do-differently">What I&rsquo;d Do Differently<a hidden class="anchor" aria-hidden="true" href="#what-id-do-differently">#</a></h3>
<p><strong>1. Database Migrations from Start</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Should have implemented migrations early
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">interface</span> <span class="nx">Migration</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">version</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">description</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">up</span><span class="o">:</span> <span class="p">(</span><span class="nx">db</span>: <span class="kt">Database</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">void</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">down</span><span class="o">:</span> <span class="p">(</span><span class="nx">db</span>: <span class="kt">Database</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">void</span><span class="p">&gt;;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>2. Better Testing Strategy</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Should have mocked external APIs from beginning
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Weather Notifications&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mockWeatherAPI</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mockTelegramAPI</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;sends frost warning when temperature drops below threshold&#39;</span><span class="p">,</span> <span class="kr">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mockWeatherAPI</span><span class="p">.</span><span class="nx">mockWeather</span><span class="p">({</span> <span class="nx">temperature</span><span class="o">:</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="o">-</span><span class="mi">5</span> <span class="p">}</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">await</span> <span class="nx">processNotifications</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nx">expect</span><span class="p">(</span><span class="nx">mockTelegramAPI</span><span class="p">.</span><span class="nx">sentMessages</span><span class="p">).</span><span class="nx">toContain</span><span class="p">(</span><span class="s1">&#39;Frost warning&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p><strong>3. Rate Limiting Implementation</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Implemented too late - should be from day one
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">rateLimit</span> <span class="kr">from</span> <span class="s1">&#39;express-rate-limit&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">apiLimiter</span> <span class="o">=</span> <span class="nx">rateLimit</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">windowMs</span>: <span class="kt">15</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="c1">// 15 minutes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">max</span>: <span class="kt">100</span> <span class="c1">// limit each IP to 100 requests per windowMs
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="s1">&#39;/api/&#39;</span><span class="p">,</span> <span class="nx">apiLimiter</span><span class="p">);</span>
</span></span></code></pre></div><h2 id="-future-improvements">üîÆ Future Improvements<a hidden class="anchor" aria-hidden="true" href="#-future-improvements">#</a></h2>
<h3 id="phase-5-machine-learning-planned">Phase 5: Machine Learning (Planned)<a hidden class="anchor" aria-hidden="true" href="#phase-5-machine-learning-planned">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Analyze user behavior to improve recommendations
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">interface</span> <span class="nx">UserBehavior</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">respondedToFrostWarnings</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">skippedWateringAfterRainAlert</span>: <span class="kt">number</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">preferredNotificationTimes</span>: <span class="kt">number</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl">  <span class="nx">locationAccuracy</span><span class="o">:</span> <span class="s1">&#39;city&#39;</span> <span class="o">|</span> <span class="s1">&#39;precise&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Use data to personalize recommendations
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">generatePersonalizedAdvice</span><span class="p">(</span><span class="nx">user</span>: <span class="kt">User</span><span class="p">,</span> <span class="nx">weather</span>: <span class="kt">WeatherData</span><span class="p">)</span><span class="o">:</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">behavior</span> <span class="o">=</span> <span class="nx">getUserBehavior</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">behavior</span><span class="p">.</span><span class="nx">respondedToFrostWarnings</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// User takes frost warnings seriously
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">return</span> <span class="nx">generateDetailedFrostAdvice</span><span class="p">(</span><span class="nx">weather</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">generateBasicAdvice</span><span class="p">(</span><span class="nx">weather</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="phase-6-iot-integration-future">Phase 6: IoT Integration (Future)<a hidden class="anchor" aria-hidden="true" href="#phase-6-iot-integration-future">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Connect with garden sensors
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">interface</span> <span class="nx">GardenSensor</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;soil_moisture&#39;</span> <span class="o">|</span> <span class="s1">&#39;temperature&#39;</span> <span class="o">|</span> <span class="s1">&#39;light&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">location</span>: <span class="kt">Location</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">lastReading</span>: <span class="kt">SensorReading</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Combine sensor data with weather forecasts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">async</span> <span class="kd">function</span> <span class="nx">generateSmartRecommendations</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="nx">location</span>: <span class="kt">Location</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">  <span class="nx">weather</span>: <span class="kt">WeatherData</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">  <span class="nx">sensors</span>: <span class="kt">GardenSensor</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">Recommendation</span><span class="err">[]</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">soilMoisture</span> <span class="o">=</span> <span class="nx">sensors</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">s</span> <span class="o">=&gt;</span> <span class="nx">s</span><span class="p">.</span><span class="kr">type</span> <span class="o">===</span> <span class="s1">&#39;soil_moisture&#39;</span><span class="p">)</span><span class="o">?</span><span class="p">.</span><span class="nx">lastReading</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="nx">soilMoisture</span> <span class="o">&amp;&amp;</span> <span class="nx">soilMoisture</span><span class="p">.</span><span class="nx">value</span> <span class="o">&gt;</span> <span class="mf">0.7</span> <span class="o">&amp;&amp;</span> <span class="nx">weather</span><span class="p">.</span><span class="nx">precipitation</span><span class="p">.</span><span class="nx">probability</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">[{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">type</span><span class="o">:</span> <span class="s1">&#39;watering&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">action</span><span class="o">:</span> <span class="s1">&#39;skip&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">reason</span><span class="o">:</span> <span class="s1">&#39;Soil is moist and rain expected&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}];</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="-key-takeaways-for-bot-development">üí° Key Takeaways for Bot Development<a hidden class="anchor" aria-hidden="true" href="#-key-takeaways-for-bot-development">#</a></h2>
<h3 id="1-start-simple-iterate-fast">1. Start Simple, Iterate Fast<a hidden class="anchor" aria-hidden="true" href="#1-start-simple-iterate-fast">#</a></h3>
<ul>
<li>Begin with core commands working</li>
<li>Add features based on user feedback</li>
<li>Don&rsquo;t over-engineer from the start</li>
</ul>
<h3 id="2-error-handling-is-critical">2. Error Handling is Critical<a hidden class="anchor" aria-hidden="true" href="#2-error-handling-is-critical">#</a></h3>
<ul>
<li>External APIs will fail - plan for it</li>
<li>Users will send unexpected input</li>
<li>Have fallbacks for everything</li>
</ul>
<h3 id="3-monitoring-is-essential">3. Monitoring is Essential<a hidden class="anchor" aria-hidden="true" href="#3-monitoring-is-essential">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="c1">// Implement comprehensive monitoring
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">commandsProcessed</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">errorsEncountered</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">notificationsSent</span>: <span class="kt">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">apiCallsToday</span>: <span class="kt">0</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Track everything important
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">function</span> <span class="nx">trackCommand</span><span class="p">(</span><span class="nx">command</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">metrics</span><span class="p">.</span><span class="nx">commandsProcessed</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Command processed: </span><span class="si">${</span><span class="nx">command</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="4-user-experience-matters">4. User Experience Matters<a hidden class="anchor" aria-hidden="true" href="#4-user-experience-matters">#</a></h3>
<ul>
<li>Clear, helpful error messages</li>
<li>Intuitive command structure</li>
<li>Consistent interaction patterns</li>
<li>Fast response times</li>
</ul>
<h3 id="5-production-readiness-checklist">5. Production Readiness Checklist<a hidden class="anchor" aria-hidden="true" href="#5-production-readiness-checklist">#</a></h3>
<ul>
<li>‚úÖ Health checks and monitoring</li>
<li>‚úÖ Graceful error handling</li>
<li>‚úÖ Rate limiting and abuse prevention</li>
<li>‚úÖ Logging and debugging tools</li>
<li>‚úÖ Automated deployment pipeline</li>
<li>‚úÖ Backup and recovery procedures</li>
</ul>
<h2 id="-resources--links">üîó Resources &amp; Links<a hidden class="anchor" aria-hidden="true" href="#-resources--links">#</a></h2>
<p><strong>Live Project:</strong></p>
<ul>
<li><strong>Try the Bot:</strong> <a href="https://t.me/jordbrukbot">@jordbrukbot</a></li>
<li><strong>Status Page:</strong> <a href="/projects/garden-bot/status/">Live Status Monitor</a></li>
<li><strong>Source Code:</strong> <a href="https://github.com/avlihachev/garden_bot">GitHub Repository</a></li>
</ul>
<p><strong>Technical Resources:</strong></p>
<ul>
<li><a href="https://telegraf.js.org/">Telegraf.js Documentation</a></li>
<li><a href="https://openweathermap.org/api">OpenWeatherMap API</a></li>
<li><a href="https://fly.io/docs/">Fly.io Deployment Guide</a></li>
</ul>
<p><strong>Related Posts:</strong></p>
<ul>
<li><a href="/blog/excel-formulas-startups/">5 Excel Formulas Every Startup Should Master</a></li>
<li><a href="/blog/saas-automation-case-study/">SaaS Automation Case Study</a></li>
</ul>
<hr>
<h2 id="-want-to-build-something-similar">üöÄ Want to Build Something Similar?<a hidden class="anchor" aria-hidden="true" href="#-want-to-build-something-similar">#</a></h2>
<p>This project showcases full-stack development skills, API integration expertise, and production deployment experience. If you&rsquo;re interested in building a custom bot or automation solution for your business:</p>
<p><strong><a href="/products">Schedule a Free Consultation ‚Üí</a></strong> to discuss your project.</p>
<hr>
<p><em>Garden Bot continues to evolve based on user feedback. The complete source code is available on GitHub, and I&rsquo;m always happy to discuss technical implementation details.</em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/node.js/">Node.js</a></li>
      <li><a href="http://localhost:1313/tags/typescript/">TypeScript</a></li>
      <li><a href="http://localhost:1313/tags/telegram-bot/">Telegram Bot</a></li>
      <li><a href="http://localhost:1313/tags/weather-api/">Weather API</a></li>
      <li><a href="http://localhost:1313/tags/fly.io/">Fly.io</a></li>
      <li><a href="http://localhost:1313/tags/express/">Express</a></li>
      <li><a href="http://localhost:1313/tags/sqlite/">SQLite</a></li>
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Aleksandr Likhachev</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
